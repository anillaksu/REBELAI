<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>⚡ REBEL AI – Komut Yöneticisi</title>
    <link rel="stylesheet" href="/static/style.css">
    <meta name="description" content="REBEL AI Cross-Platform Command Manager with AI Integration">
    <meta name="keywords" content="REBEL AI, Command Manager, Cross-Platform, AI">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>⚡</text></svg>">
</head>
<body>
    <!-- Auth Overlay -->
    <div class="auth-overlay" id="authOverlay">
        <div class="auth-container">
            <div class="auth-header">
                <div class="logo">⚡ REBEL AI</div>
                <div class="subtitle">Komut Yöneticisi</div>
            </div>
            <div class="auth-form">
                <div class="input-group">
                    <label for="authToken">🔐 Auth Token:</label>
                    <input type="password" id="authToken" placeholder="REBEL_AUTH_TOKEN girin..." autocomplete="off">
                </div>
                <button class="auth-btn" onclick="authenticate()">🚀 Sisteme Gir</button>
                <div class="auth-info">
                    <p>💡 <strong>Token nasıl alınır?</strong></p>
                    <code>export REBEL_AUTH_TOKEN="your_secure_token"</code>
                </div>
            </div>
            <div class="auth-error" id="authError" style="display: none;">
                ❌ Geçersiz token! Lütfen doğru token'ı girin.
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div class="app-container" id="appContainer" style="display: none;">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo-main">⚡ REBEL AI</div>
                <div class="platform-info" id="platformInfo">Platform: Loading...</div>
            </div>
            <div class="header-right">
                <div class="ai-status" id="aiStatus">🤖 AI: Checking...</div>
                <button class="logout-btn" onclick="logout()">🚪 Çıkış</button>
            </div>
        </header>

        <!-- Terminal Container -->
        <main class="terminal-container">
            <!-- Terminal Header -->
            <div class="terminal-header">
                <div class="terminal-controls">
                    <span class="control-btn close"></span>
                    <span class="control-btn minimize"></span>
                    <span class="control-btn maximize"></span>
                </div>
                <div class="terminal-title">REBEL AI Terminal</div>
            </div>

            <!-- Terminal Content -->
            <div class="terminal-content">
                <!-- Output Area -->
                <div class="terminal-output" id="terminalOutput">
                    <div class="welcome-message">
                        <div class="ascii-art">
██████╗ ███████╗██████╗ ███████╗██╗         █████╗ ██╗
██╔══██╗██╔════╝██╔══██╗██╔════╝██║        ██╔══██╗██║
██████╔╝█████╗  ██████╔╝█████╗  ██║        ███████║██║
██╔══██╗██╔══╝  ██╔══██╗██╔══╝  ██║        ██╔══██║██║
██║  ██║███████╗██████╔╝███████╗███████╗   ██║  ██║██║
╚═╝  ╚═╝╚══════╝╚═════╝ ╚══════╝╚══════╝   ╚═╝  ╚═╝╚═╝
                        </div>
                        <div class="welcome-text">
                            🌟 <strong>REBEL AI Komut Yöneticisi'ne Hoş Geldiniz!</strong><br>
                            🚀 Cross-Platform | 🤖 AI-Powered | 🧠 Dijkstra Optimized<br>
                            💬 Doğal dilde komut yazın, AI yorumlayacak!
                        </div>
                    </div>
                </div>

                <!-- Input Area -->
                <div class="terminal-input-container">
                    <div class="terminal-prompt" id="terminalPrompt">rebel@ai:~$</div>
                    <input type="text" class="terminal-input" id="commandInput" 
                           placeholder="Komutunuzu yazın (ör: 'dosyaları listele', 'sistem bilgisi')" 
                           autocomplete="off" spellcheck="false">
                    <div class="input-controls">
                        <button class="execute-btn" onclick="executeCommand()" title="Çalıştır (Enter)">
                            ⚡ Çalıştır
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Sidebar -->
        <aside class="sidebar">
            <!-- Quick Actions -->
            <div class="sidebar-section">
                <h3 class="section-title">🚀 Hızlı Eylemler</h3>
                <div class="quick-actions">
                    <button class="quick-btn" onclick="console.log('📁 Button clicked'); insertCommand('ls -la')" title="Dosya Listesi">📁 Dosyalar</button>
                    <button class="quick-btn" onclick="console.log('👤 Button clicked'); insertCommand('whoami')" title="Kullanıcı Bilgisi">👤 Ben Kimim</button>
                    <button class="quick-btn" onclick="console.log('📍 Button clicked'); insertCommand('pwd')" title="Mevcut Dizin">📍 Konum</button>
                    <button class="quick-btn" onclick="insertCommand('date')" title="Tarih ve Saat">🕒 Tarih</button>
                    <button class="quick-btn" onclick="insertCommand('df -h')" title="Disk Kullanımı">💾 Disk</button>
                    <button class="quick-btn" onclick="insertCommand('ps aux')" title="Süreç Listesi">⚙️ Süreçler</button>
                </div>
            </div>

            <!-- AI Settings -->
            <div class="sidebar-section">
                <h3 class="section-title">🤖 AI Ayarları</h3>
                <div class="ai-controls">
                    <label class="toggle-label">
                        <input type="checkbox" id="useAI" checked>
                        <span class="toggle-slider"></span>
                        AI Yorumlama
                    </label>
                    <label class="toggle-label">
                        <input type="checkbox" id="useScheduler" checked>
                        <span class="toggle-slider"></span>
                        Dijkstra Optimizasyon
                    </label>
                </div>
            </div>

            <!-- Command History -->
            <div class="sidebar-section">
                <h3 class="section-title">📜 Komut Geçmişi</h3>
                <div class="history-container">
                    <div class="history-list" id="historyList">
                        <div class="history-empty">Henüz komut çalıştırılmadı</div>
                    </div>
                    <div class="history-controls">
                        <button class="history-btn" onclick="loadHistory()">🔄 Yenile</button>
                        <button class="history-btn" onclick="clearHistory()">🗑️ Temizle</button>
                        <button class="history-btn" onclick="exportHistory()">💾 Dışa Aktar</button>
                    </div>
                </div>
            </div>

            <!-- Favorites -->
            <div class="sidebar-section">
                <h3 class="section-title">⭐ Favoriler</h3>
                <div class="favorites-container">
                    <div class="favorites-list" id="favoritesList">
                        <!-- Dynamically loaded -->
                    </div>
                    <div class="favorites-controls">
                        <button class="favorites-btn" onclick="addToFavorites()">➕ Ekle</button>
                        <button class="favorites-btn" onclick="loadFavorites()">🔄 Yenile</button>
                    </div>
                </div>
            </div>

            <!-- System Status -->
            <div class="sidebar-section">
                <h3 class="section-title">📊 Sistem Durumu</h3>
                <div class="status-container" id="statusContainer">
                    <div class="status-item">
                        <span class="status-label">Platform:</span>
                        <span class="status-value" id="statusPlatform">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Shell:</span>
                        <span class="status-value" id="statusShell">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">AI Motor:</span>
                        <span class="status-value" id="statusAI">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Scheduler:</span>
                        <span class="status-value" id="statusScheduler">-</span>
                    </div>
                </div>
                <button class="status-refresh" onclick="loadSystemStatus()">🔄 Durum Güncelle</button>
            </div>

            <!-- Logs -->
            <div class="sidebar-section">
                <h3 class="section-title">📋 Loglar</h3>
                <div class="logs-controls">
                    <button class="logs-btn" onclick="viewLogs()">👁️ Logları Göster</button>
                    <button class="logs-btn" onclick="downloadLogs()">💾 İndir</button>
                </div>
            </div>
        </aside>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <div class="loading-text">Komut çalıştırılıyor...</div>
        </div>
    </div>

    <!-- Modal for Logs -->
    <div class="modal" id="logsModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>📋 REBEL AI Logları</h3>
                <button class="modal-close" onclick="closeModal('logsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <pre class="logs-content" id="logsContent">Loglar yükleniyor...</pre>
            </div>
            <div class="modal-footer">
                <button class="modal-btn" onclick="downloadLogs()">💾 İndir</button>
                <button class="modal-btn" onclick="closeModal('logsModal')">❌ Kapat</button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="/static/script.js"></script>
</body>
</html>